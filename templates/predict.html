{% extends 'header.html'%}

{% block head %}


<title>US Visa Approval Status Prediction</title>
{% endblock %}

{% block content %}

<div class="row">
    <div class="col-md-6 col-sm-12 col-xs-6 col-lg-6">
        <form action="/predict" method="post">
            <legend>US Visa Approval Prediction system</legend>
            <div class="mb-3">
                <label class="form-label">Continent</label>
                <select class="form-control" name="continent" placeholder="Enter Your Continent"
                    required>
                    <option class="placeholder" selected disabled value="">Select your Continent</option>
                    <option value="Asia">
                        Asia
                    </option>
                    <option value="Africa">
                        Africa
                    </option>
                    <option value="North America">
                        North America
                    </option>
                    <option value="Oceania">
                        Oceania
                    </option>
                    <option value="South America">
                        South America
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Education</label>
                <select class="form-control" name="education_of_employee" placeholder="Enter Applicant Education"
                    required>
                    <option class="placeholder" selected disabled value="">Select your Education</option>
                    <option value="High School">
                        High School
                    </option>
                    <option value="Bachelor's">
                        Bachelor's
                    </option>
                    <option value="Master's">
                        Master's
                    </option>
                    <option value="Doctorate">
                        Doctorate
                    </option>
                </select>
            </div>  
            <div class="mb-3">
                <label class="form-label">Job Experience</label>
                <select class="form-control" name="has_job_experience" placeholder="Has job experience?"
                    required>
                    <option class="placeholder" selected disabled value="">Has Job Experience?</option>
                    <option value=Y>
                        Yes
                    </option>
                    <option value=N>
                        No
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Job Training</label>
                <select class="form-control" name="hypertension" placeholder="Requires Job Training?"
                    required>
                    <option class="placeholder" selected disabled value="">Requires Job Training?</option>
                    <option value=Y>
                        Yes
                    </option>
                    <option value=N>
                        No
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Your Region of Employment</label>
                <select class="form-control" name="region_of_employment" placeholder="Enter region of employment"
                    required>
                    <option class="placeholder" selected disabled value="">Select your Region of Employment</option>
                    <option value="South">
                        South
                    </option>
                    <option value="West">
                        West
                    </option>
                    <option value="Northeast">
                        Northeast
                    </option>
                    <option value="Midwest">
                        Midwest
                    </option>
                    <option value="Island">
                        Island
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Job Training</label>
                <select class="form-control" name="requires_job_training" placeholder="Requires Job Training?"
                    required>
                    <option class="placeholder" selected disabled value="">Requires Job Training?</option>
                    <option value=Y>
                        Yes
                    </option>
                    <option value=N>
                        No
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Number of Employees</label>
                <input class="form-control" type="number" name="no_of_employees"
                    placeholder="Enter Number of employees in applied company" min='0' max='700000'/>
            </div>
            <div class="mb-3">
                <label class="form-label">Company Age</label>
                <input class="form-control" type="number" name="company_age"
                    placeholder="Enter your Companies's age" min='0' max='40'/>
            </div>
            <div class="mb-3">
                <label class="form-label">Prevailing Wage</label>
                <input class="form-control" type="number" name="prevailing_wage"
                    placeholder="Enter Prevailing wage" min='0' max='300000'/>
            </div>
            <div class="mb-3">
                <label class="form-label">Unit of Wage</label>
                <select class="form-control" name="unit_of_wage" 
                    required>
                    <option class="placeholder" selected disabled value="">Whats your preffered unit of wage</option>
                    <option value=Year>
                        Year
                    </option>
                    <option value=Month>
                        Month
                    </option>
                    <option value=Week>
                        Week
                    </option>
                    <option value=Hour>
                        Hour
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Full Time Position</label>
                <select class="form-control" name="full_time_position" placeholder="full_time_position"
                    required>
                    <option class="placeholder" selected disabled value="">Is the Job full time?</option>
                    <option value=Y>
                        Yes
                    </option>
                    <option value=N>
                        No
                    </option>
                </select>
            </div>
            <div class="mb-3">
                <input class="btn btn-primary" type="submit" value="Predict Approval Status" required />
            </div>
        </form>
    </div>

    <div class="col-md-6 col-sm-12 col-xs-6 col-lg-6">
        <div class="card">
            <div class="card-header">
              Prediction
            </div>
            <div class="card-body">
        {% if context['us_visa_data'] is not none %}
        <table class="table table-striped">
            <caption>Approval status </caption>
            <tr>
                <th>Input Feature</th>
                <th>Feature Value</th>

            </tr>
            {% for column,value in context['us_visa_data'].items() %}


            <tr>
                <td>{{column}}</td>
                <td>{{value[0]}}</td>
            </tr>

            {% endfor %}
            <tr>

                <td>Predicted Class</td>
                <td>
                    {{ context['approval'] }}
                </td>
                <td>
                    {{context['proba']}}
                </td>
            </tr>
        </table>

        {% else %}
       
              <h5 class="card-title">Submit Form</h5>
              <p class="card-text">Kindly provide necessary information to Predict Your Approval Status</p>
            
        {% endif %}
        Go to <a href="/" class="btn btn-primary">Home</a>
    </div>
</div>
    </div>

    {% endblock %}